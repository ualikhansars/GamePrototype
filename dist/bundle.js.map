{"version":3,"sources":["webpack:///webpack/bootstrap 4f32ffb7d6880ef8a591","webpack:///./src/config/map.ts","webpack:///./src/utils/ctx.ts","webpack:///./src/store/unitsStore.ts","webpack:///./src/utils/loadImage.ts","webpack:///./src/utils/timeout.ts","webpack:///./src/units/unitMath.ts","webpack:///./src/units/unitUtils.ts","webpack:///./src/units/unitPath.ts","webpack:///./src/game.ts","webpack:///./src/units/unitRotation.ts","webpack:///./src/units/unitMovement.ts","webpack:///./src/units/unitActions.ts","webpack:///./src/units/Unit.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4f32ffb7d6880ef8a591","// global variables\nexport const WIDTH: number = 1224;\nexport const HEIGHT: number = 768;\n\n// create Canvas\nexport let canvas = document.createElement('canvas');\ncanvas.id = \"canvas\";\ncanvas.width = WIDTH;\ncanvas.height = HEIGHT;\ncanvas.style.border = \"1px solid\";\n\ndocument.body.appendChild(canvas);\n\n// define 2d context\nexport let ctx = canvas.getContext(\"2d\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/map.ts","import {ctx} from '../config/map';\n\nexport const ctxSave = () => {\n  ctx.save();\n}\n\nexport const ctxRestore = () => {\n  ctx.restore();\n}\n\nexport const ctxFillRect = (x, y, width, height) => {\n  ctx.fillRect(x, y, width, height);\n}\n\nexport const ctxDrawImage = (img, x, y, width, height) => {\n  ctx.drawImage(img, x, y, width, height);\n}\n\nexport const ctxTranslate = (centerX, centerY) => {\n  ctx.translate(centerX, centerY);\n}\n\nexport const ctxRotate = (angle) => {\n  ctx.rotate(angle);\n}\n\nexport const ctxClearRect = (x, y, width, height) => {\n  ctx.clearRect(x, y, width, height);\n}\n\nexport const ctxFillStyle = (color) => {\n  ctx.fillStyle = color;\n}\n\nexport const ctxTransform = (unit) => {\n  ctxTranslate(unit.centerX, unit.centerY); // translate to rectangle center\n  let angle = unit.destinationCanvasAngle * (Math.PI / 180);\n  ctxRotate(angle);\n  ctxTranslate(-unit.centerX, -unit.centerY); // translate to rectangle center\n}\n\nexport const ctxBeginPath = () => {\n  ctx.beginPath();\n}\n\nexport const ctxStrokeStyle = (color) => {\n  ctx.strokeStyle = color;\n}\n\nexport const ctxMoveTo = (x, y) => {\n  ctx.moveTo(x, y);\n}\n\nexport const ctxLineTo = (x, y) => {\n  ctx.lineTo(x, y);\n}\n\nexport const ctxStroke = () => {\n  ctx.stroke();\n}\n\nexport const ctxIsPointInPath = (x, y, fillRull) => {\n  return ctx.isPointInPath(x, y, fillRull);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ctx.ts","export const units = [];\nexport let currentlyChosenUnit = null;\n\n\nexport const assignCurrentlyChosenUnit = (unit) => {\n  // check unit\n  if(unit) {\n      currentlyChosenUnit = unit;\n  } else {\n    currentlyChosenUnit = null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/unitsStore.ts","// load image\nexport const loadImage = (imgPath: string, callback) => {\n  console.error('loadImage');\n    let img = new Image;\n    img.onload = () => {\n      callback(null, img);\n    }\n    img.onerror = () => {\n      let msg = 'Cannot load the image at ' + imgPath;\n      callback(new Error(msg));\n    }\n    img.src = imgPath;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/loadImage.ts","// setTimeout as a Promise\nexport const timeout = (time) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, time);\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/timeout.ts","/*\n\nStandart\n                C\n                *\n            *   *\n        c *     *\n        *       * a\n      *         *\n    *           *\nA  ************** B\n       b\n\n\nCanvas rotation\n\n        b\nA  **************** B\n    *             *\n      *           *\n        *         *\n      c   *       * a\n            *     *\n              *   *\n                * *\n                  *\n                  C\n\n  a = descY - centerY\n  b = descX - center X\n*/\n\n\n// get unit's position and destination position and return angle in radians between unit and destination\nexport const calcDestinationAngle = (unitX:number, unitY:number, destX:number, destY:number):number => {\n  //console.error('calcDestinationAngle');\n  let a = Math.abs(destY - unitY);\n  let b = Math.abs(destX - unitX);\n  let c = Math.sqrt(a * a + b * b);\n  let angle;\n  let quater = getQuater(unitX, unitY, destX, destY); // check quater\n  if(quater === 1 || quater === 2) angle = a / c;\n  else if(quater === 3 || quater === 4) angle = -(a / c);\n  return angle;\n}\n\n// get unit's position and destination position and return angle in radians between unit and destination\nexport const calcDestinationAngleInDegrees = (unitX:number, unitY:number, destX:number, destY:number):number => {\n  //console.error('calcDestinationAngleInDegrees');\n  let angle;\n  let a = Math.abs(destY - unitY);\n  let b = Math.abs(destX - unitX);\n  let angleInRadian = Math.atan(a / b);\n  // check quater of the circle\n  let degree =  angleInRadian * (180 / Math.PI); // convert radians into degree\n  let quater = getQuater(unitX, unitY, destX, destY); // check quater\n  if(quater === 1) angle = degree;\n  if(quater === 2) angle = 90 + (90 - degree);\n  else if(quater === 3) angle = 180 + degree;\n  else if(quater === 4) angle = 270 + (90 - degree);\n  return Math.round(angle);\n}\n\nexport const makeAnglePositive = (angle: number):number => {\n  //console.error('makeAnglePositive');\n  if(angle < 0) {\n    return angle + 360;\n  }\n  else if(angle >= 0) {\n      return angle;\n  }\n}\n\n// calculate rotate angle in canvas degrees\nexport const calcCanvasAngle = (unitX:number, unitY:number, destX:number, destY:number):number => {\n  //console.error('calcCanvasAngle');\n  let angle;\n  let a = Math.abs(destY - unitY);\n  let b = Math.abs(destX - unitX);\n  let angleInRadian = Math.atan(a / b);\n  // check quater of the circle\n  let degree =  angleInRadian * (180 / Math.PI); // convert radians into degree\n  let quater = getQuater(unitX, unitY, destX, destY); // check quater\n  if(quater === 1) angle = angle = 90 - degree; // I === I\n  if(quater === 2) angle = angle = 270 + degree; // II == IV\n  else if(quater === 3) angle = angle = 180 + (90 - degree); // III = III\n  else if(quater === 4) angle = angle = 90 + degree; // IV = II\n  return Math.round(angle);\n}\n\nexport const getQuater = (unitX:number, unitY:number, destX:number, destY:number):number => {\n  //console.error('getQuater');\n  let quater;\n  if(destX >= unitX && destY < unitY) {\n    quater = 1;\n  }\n  else if(destX < unitX && destY <= unitY) {\n    quater = 2;\n  }\n  else if(destX <= unitX && destY > unitY) {\n    quater = 3;\n  }\n  else if(destX > unitX && destY >= unitY) {\n    quater = 4;\n  }\n  return quater;\n}\n\nexport const getCanvasAngleQuater = (canvasAngle) => {\n  //console.error('getCanvasAngleQuater');\n  if(canvasAngle >= 0 && canvasAngle < 90) return 1;\n  else if(canvasAngle >= 90 && canvasAngle < 180) return 4;\n  else if(canvasAngle >= 180 && canvasAngle < 270) return 3;\n  else if(canvasAngle >= 270 && canvasAngle < 360) return 2;\n}\n\n// calculate path in both directions\n// and decide in what direction unit has to rotate\n// return startAngle, finishAngle, rotationDirection\nexport const chooseRotationDirection = (initialStartAngle, initialFinishAngle) => {\n  //console.error('chooseRotationDirection');\n  let startQuater, finishQuater;\n  let startAngle, finishAngle, rotationDirection;\n  let positiveStartAngle, positiveFinishAngle;\n  let negativeStartAngle, negativeFinishAngle;\n  positiveStartAngle = initialStartAngle;\n  positiveFinishAngle =initialFinishAngle;\n\n  if(positiveStartAngle === 0) {\n      negativeStartAngle = 0; // use 0 instead of 360\n  }  else {\n    negativeStartAngle = positiveStartAngle - 360;\n  }\n\n  if(positiveFinishAngle === 0) {\n      negativeFinishAngle = 0;\n  }  else {\n    negativeFinishAngle = positiveFinishAngle - 360;\n  }\n\n  startQuater = getCanvasAngleQuater(positiveStartAngle);\n  finishQuater = getCanvasAngleQuater(positiveFinishAngle);\n\n  let positivePath, negativePath;\n  if(startQuater === 2 || startQuater === 3) {\n      negativePath = Math.abs(negativeStartAngle) + Math.abs(positiveFinishAngle);\n  } else {\n      negativePath = Math.abs(positiveStartAngle) + Math.abs(negativeFinishAngle);\n  }\n  positivePath = Math.abs(positiveFinishAngle - positiveStartAngle);\n\n  if(positivePath <= negativePath) {\n    startAngle = positiveStartAngle;\n    finishAngle = positiveFinishAngle;\n    if(positiveStartAngle > positiveFinishAngle) rotationDirection = -1;\n    if(positiveStartAngle < positiveFinishAngle) rotationDirection = 1;\n  } else { // negativePath > positivePath\n    if(startQuater === 2 || startQuater === 3) {\n      startAngle = negativeStartAngle;\n      finishAngle = positiveFinishAngle;\n      rotationDirection = 1;\n    } else {\n      startAngle = positiveStartAngle;\n      finishAngle = negativeFinishAngle;\n      rotationDirection = -1;\n    }\n  }\n  return {\n    startAngle,\n    finishAngle,\n    rotationDirection\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitMath.ts","export const calcSpeed = (unit) => {\n    let speedX, speedY;\n    if(unit.centerX !== unit.moveToX || unit.centerY !== unit.moveToY) {\n      if(unit.centerX < unit.moveToX && unit.centerY < unit.moveToY) {\n        speedX = 1;\n        speedY = 1;\n      }\n      else if(unit.centerX > unit.moveToX && unit.centerY > unit.moveToY) {\n        speedX = -1;\n        speedY = -1;\n      }\n      else if(unit.centerX < unit.moveToX && unit.centerY > unit.moveToY) {\n        speedX = 1;\n        speedY = -1;\n      }\n      else if(unit.centerX > unit.moveToX && unit.centerY < unit.moveToY) {\n        speedX = -1;\n        speedY = 1;\n      }\n    }\n    return {\n      speedX,\n      speedY\n    }\n}\n\nexport const calcCoefficient = (unit) => {\n  let pathX = Math.abs(unit.moveToX - unit.x);\n  let pathY = Math.abs(unit.moveToY - unit.y);\n  if(pathX >= pathY) return Math.round(pathX / pathY);\n  if(pathY > pathX) return Math.round(pathY / pathX);\n}\n\nexport const calcGreaterSpeed = (unit) => {\n  let pathX = Math.abs(unit.moveToX - unit.x);\n  let pathY = Math.abs(unit.moveToY - unit.y);\n  if(pathX >= pathY) return 'x';\n  if(pathY > pathX) return 'y';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitUtils.ts","import {ctx} from '../config/map';\nimport {\n  ctxSave,\n  ctxRestore,\n  ctxTranslate,\n  ctxRotate,\n  ctxClearRect,\n  ctxDrawImage,\n  ctxTransform,\n  ctxFillRect, // test\n  ctxFillStyle, // test\n  ctxBeginPath,\n  ctxStrokeStyle,\n  ctxMoveTo,\n  ctxLineTo,\n  ctxStroke,\n  ctxIsPointInPath,\n} from '../utils/ctx';\n\nimport {\n  calcSpeed,\n  calcCoefficient,\n  calcGreaterSpeed\n} from './unitUtils';\n\n\n// show path\nexport const showPath = (unit) => {\n  let {speedX, speedY} = calcSpeed(unit);\n  let currentX = unit.centerX;\n  let currentY = unit.centerY;\n  let i = 0;\n  let coefficient = calcCoefficient(unit);\n  let greaterPath = calcGreaterSpeed(unit);\n  while(currentX !== unit.moveToX || currentY !== unit.moveToY) {\n    let prevSpeedX = speedX;\n    let prevSpeedY = speedY;\n    console.error('PATH speedX:', speedX, 'speedY:', speedY);\n    if(i <= coefficient) {\n      if(greaterPath === 'x') speedY = 0;\n      if(greaterPath === 'y') speedX = 0;\n    }\n    if(currentX === unit.moveToX) speedX = 0;\n    if(currentY === unit.moveToY) speedY = 0;\n    console.log('speedX:', speedX, 'speedY', speedY);\n    currentX += speedX ;\n    currentY += speedY;\n    if(i > coefficient) i = 0;\n    speedX = prevSpeedX;\n    speedY = prevSpeedY;\n    console.log('speed after speedX:', speedX, 'speedY', speedY);\n    ctxFillStyle('green');\n    ctxFillRect(currentX - 2, currentY - 2, 4, 4);\n    i++; // increment coefficient\n  }\n  console.log('currentX:', currentX, 'currentY', currentY);\n  console.log('moveToX', unit.moveToX, 'moveToY', unit.moveToY);\n  ctxFillStyle('red');\n  ctxFillRect(currentX - 10, currentY - 10, 20, 20);\n}\n\nexport const drawPath = (unit) => {\n  ctxBeginPath();\n  ctxStrokeStyle('green');\n  ctxMoveTo(unit.centerX, unit.centerY);\n  ctxLineTo(unit.moveToX, unit.moveToY);\n  ctxStroke();\n}\n\nexport const findPath = (unit) => {\n  ctxBeginPath();\n  let path = [];\n  ctxStrokeStyle('green');\n  ctxMoveTo(unit.centerX, unit.centerY);\n  ctxLineTo(unit.moveToX, unit.moveToY);\n  ctxStroke();\n  for(let x = 0; x <= 1224; ++x) {\n    for(let y = 0; y <= 768; ++y) {\n      if(ctx.isPointInStroke(x, y)) {\n          path.push({x, y});\n      }\n    }\n  }\n  return path;\n}\n\nexport const filterPath = (unit, path) => {\n  let startPath = path[0];\n  let finishPath = path[path.length - 1];\n  let startDifference = Math.abs((unit.centerX - startPath.x) + unit.centerY - startPath.y);\n  console.log('startDifference', startDifference);\n  let finishDifference = Math.abs((unit.centerX - finishPath.x) + unit.centerY - finishPath.y);\n  console.log('finishDifference', finishDifference);\n  if(startDifference > finishDifference) { // reverse array\n    let updatedPath = [];\n    for(let i = path.length - 1; i > 0; --i) {\n      updatedPath.push(path[i]);\n    }\n    updatedPath.push({x: unit.moveToX, y: unit.moveToY});\n    path = updatedPath;\n  }\n  return path;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitPath.ts","import {canvas, ctx} from './config/map';\n\nimport {\n  units,\n  currentlyChosenUnit\n} from './store/unitsStore';\n\nimport {rotateAndMove} from './units/unitRotation';\nimport {showPath, drawPath, findPath, filterPath} from './units/unitPath';\n\nimport {\n  setUnit,\n  chooseUnit,\n  assignMoveToPosition,\n  createUnit,\n} from './units/unitActions';\n\nlet infantry = createUnit('Infantry',200, 40, 100, 50, 3, undefined ,20);\nconsole.log('infantry', infantry);\nlet cavalry = createUnit('Cavalry', 100, 300, 50, 30, 5, undefined, 15);\nlet heavyInfantry = createUnit('HeavyInfantry', 300, 180, 160, 120, 2, undefined, 30);\n\ncanvas.addEventListener('click', (e) => {\n  console.error('Click');\n  let x = e.offsetX; // get X\n  let y = e.offsetY; // get Y\n  console.log('Position x', e.offsetX); // get X\n  console.log('Position y', e.offsetY); // get Y\n  chooseUnit(units, x, y);\n});\n\n// set onClickListener for right mouse event\ncanvas.addEventListener('contextmenu', (e) => {\n  console.error('Right Mouse Click');\n  e.preventDefault();\n  let x = e.offsetX; // get X\n  let y = e.offsetY; // get Y\n  if(currentlyChosenUnit) {\n    assignMoveToPosition(currentlyChosenUnit, x, y); //assign unit's next x and y position\n    currentlyChosenUnit.assignAngle(); // assign angle to the unit\n    drawPath(currentlyChosenUnit);\n    console.error('PATH:',findPath(currentlyChosenUnit));\n    console.log('UPDATED PATH:', filterPath(currentlyChosenUnit, findPath(currentlyChosenUnit)));\n    rotateAndMove(currentlyChosenUnit); // rotate unit\n    // assignMoveToPosition(currentlyChosenUnit, x, y); //assign unit's next x and y position\n    // currentlyChosenUnit.assignAngle(); // assign angle to the unit\n    // smoothlyRotateUnit(currentlyChosenUnit); // rotate unit\n    //rotateUnit(currentlyChosenUnit);\n    // console.error('x:', currentlyChosenUnit.centerX, 'y:', currentlyChosenUnit.centerY, 'destX:', currentlyChosenUnit.moveToX, 'destY:', currentlyChosenUnit.moveToY);\n\n    console.log('GAME: previousCanvasAngle', currentlyChosenUnit.previousCanvasAngle);\n    console.error('GAME: desctinationCanvasAngle', currentlyChosenUnit.destinationCanvasAngle);\n    //console.log('Unit:' ,currentlyChosenUnit.x, currentlyChosenUnit.y);\n    //console.log('center:', currentlyChosenUnit.centerX, currentlyChosenUnit.centerY);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/game.ts","import {ctx} from '../config/map';\nimport {loadImage} from '../utils/loadImage';\nimport {timeout} from '../utils/timeout';\nimport {\n  chooseRotationDirection,\n  makeAnglePositive\n} from './unitMath';\n\nimport {move} from './unitMovement';\n\n// change angle depends on received data\nexport const changeAngle = (unit,img, changingAngle, current) => {\n  //console.error('changeAngle');\n  return new Promise(resolve => {\n    ctx.save();\n    clearUnit(unit); // delete previos drawing unit\n    ctx.translate(unit.centerX, unit.centerY); // translate to rectangle center\n    let angle = changingAngle * (Math.PI / 180);\n    //console.log('CHANGE ANGLE: draw unit degree:', changingAngle);\n    ctx.rotate(angle); // rotate to look straight to the destination position\n    ctx.translate(-unit.centerX, -unit.centerY); // translate to rectangle center\n    ctx.drawImage(img, unit.x, unit.y, unit.width, unit.height);\n    ctx.restore();\n    resolve();\n  });\n}\n\nexport const rotateAndMove = (unit) => {\n  //console.error('rotateAndMove');\n  return new Promise(resolve => {\n    loadImage(unit.imgPath, (err, img) => { // load image, then rotate unit\n      if(err) throw err;\n      let isRotating = unit.isRotating;\n      let rotationSpeed = unit.rotationSpeed;\n      let initialStartAngle = unit.previousCanvasAngle;\n      let initialFinishAngle = unit.destinationCanvasAngle;\n      let {startAngle, finishAngle, rotationDirection} = chooseRotationDirection(initialStartAngle, initialFinishAngle);\n      let changingAngle = startAngle;\n      //console.error('ROTATE UNIT: startAngle:', startAngle, 'finishAngle:', finishAngle, 'direction:', rotationDirection);\n      if(!isRotating) {\n        unit.setIsRotatingToTrue();\n        makeRotation(unit, img, startAngle, changingAngle, finishAngle, rotationDirection, rotationSpeed);\n      }\n    });\n    resolve();\n  });\n}\n\nexport const clearUnit = (unit) => {\n  //console.error('clearUnit');\n  ctx.save();\n  ctx.translate(unit.centerX, unit.centerY); // translate to rectangle center\n  let angle = unit.angleToRemove * (Math.PI / 180);\n  //console.log('ROTATION: angle to remove:', unit.angleToRemove);\n  ctx.rotate(angle); // rotate unit\n  ctx.translate(-unit.centerX, -unit.centerY); // translate to rectangle center\n  ctx.clearRect(unit.x - 1, unit.y - 1, unit.width + 2, unit.height + 2);\n  ctx.restore();\n}\n\nconst makeRotation = (unit, img, startAngle, changingAngle, finishAngle, rotationDirection, rotationSpeed, previousStartAngle=null, previousFinishAngle=null) => {\n  //console.error('makeRotation');\n  let previous = changingAngle - rotationDirection; // previous angle state\n  unit.setAngleToRemove(previous); // set angle that has to be removed\n  let checkFinishAngle; // angle to compare with unit.destinationCanvasAngle\n  if(finishAngle < 0) checkFinishAngle = finishAngle + 360; // make angle positive\n  if(finishAngle >= 0) checkFinishAngle = finishAngle;\n\n  if(startAngle === previousStartAngle) { // stopped previous rotation\n    return;\n  }\n\n  if(checkFinishAngle !== unit.destinationCanvasAngle) {  // if another destination has been chosen\n    previousStartAngle = startAngle; // save previous rotation\n    previousFinishAngle = finishAngle;\n    changingAngle = makeAnglePositive(changingAngle); // argumenent for chooseRotationDirection()\n    finishAngle = makeAnglePositive(unit.destinationCanvasAngle); // argumenent for chooseRotationDirection()\n    let {\n      startAngle: newStartAngle,\n      finishAngle: newFinishAngle,\n      rotationDirection: newRotationDirection\n    } = chooseRotationDirection(changingAngle, finishAngle);\n    let newChangingAngle = newStartAngle;\n    makeRotation(unit, img, newStartAngle, newChangingAngle, newFinishAngle, newRotationDirection, rotationSpeed, previousStartAngle, previousFinishAngle);\n  }\n  if(changingAngle === finishAngle) { // rotation is finished\n      //console.error('rotation finished');\n      unit.setIsRotatingToFalse();\n      timeout(rotationSpeed).then(() => changeAngle(unit, img, changingAngle, finishAngle)) // now angle === destinationCanvasAngle\n      .then(() => move(unit)) // make movement\n      //console.error('start position x:', unit.centerX, 'y:', unit.centerY);\n      //console.error('finish position x:', unit.moveToX, 'y:', unit.moveToY);\n      return;\n  }\n  else {\n    timeout(rotationSpeed).then(() => changeAngle(unit, img, changingAngle, finishAngle))\n    .then(() => {\n    makeRotation(unit, img, startAngle, changingAngle += rotationDirection, finishAngle, rotationDirection, rotationSpeed, previousStartAngle, previousFinishAngle);\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitRotation.ts","import {units}  from '../store/unitsStore';\nimport {timeout} from '../utils/timeout';\nimport {loadImage} from '../utils/loadImage';\nimport {\n  ctxSave,\n  ctxRestore,\n  ctxTranslate,\n  ctxRotate,\n  ctxClearRect,\n  ctxDrawImage,\n  ctxTransform,\n  ctxFillRect, // test\n  ctxFillStyle, // test\n  ctxBeginPath,\n  ctxStrokeStyle,\n  ctxMoveTo,\n  ctxLineTo,\n  ctxStroke,\n  ctxIsPointInPath,\n} from '../utils/ctx';\n\nimport {\n  calcSpeed,\n  calcCoefficient,\n  calcGreaterSpeed\n} from './unitUtils';\n\nimport {\n  findPath,\n  filterPath\n} from './unitPath';\n\n// move unit to the destination position\nexport const move = (unit) => {\n  console.error('Move');\n  loadImage(unit.imgPath, (err, img) => {\n    let {speedX, speedY} = calcSpeed(unit);\n    let currentMoveToX = unit.moveToX; // save previous moveToPositions\n    let currentMoveToY = unit.moveToY;\n    //makeMovement(unit, img, currentMoveToX, currentMoveToY,speedX, speedY, 0);\n    let path = findPath(unit);\n    let updatedPath = filterPath(unit, path);\n    console.log('updatedPath', updatedPath);\n    makeMovement2(unit, img, updatedPath, 0);\n  });\n}\n\n// draw unit every movement speed until unitCenter position is not equal to\n// moveTo position\nexport const makeMovement = (unit, img, currentMoveToX:number, currentMoveToY:number, speedX:number, speedY:number, i:number) => {\n    // save previousMoveTo position\n    //console.error('Make Movement');\n    let prevSpeedX = speedX; // save speedX\n    let prevSpeedY = speedY; // save speedY\n    if(currentMoveToX !== unit.moveToX || currentMoveToY !== unit.moveToY) {\n      console.log('new destination has been chosen');\n      return; // new destination position has been chosen\n    }\n    console.error('speed before x:', speedX, 'y:', speedY);\n    let movementSpeed = 50;\n    // movement control\n    let coefficient = calcCoefficient(unit);\n    let greaterPath = calcGreaterSpeed(unit);\n    if(i <= coefficient) {\n      if(greaterPath === 'x') speedY = 0;\n      if(greaterPath === 'y') speedX = 0;\n    }\n    if(unit.centerX === unit.moveToX) speedX = 0;\n    if(unit.centerY === unit.moveToY) speedY = 0;\n\n    unit.centerX += speedX ;\n    unit.centerY += speedY;\n\n    console.log('i:', i, 'coefficient:', coefficient);\n    console.log('speed x:', speedX, 'speedY:', speedY);\n\n    if(i > coefficient) {\n      console.log('i === coefficient');\n      i = 0;\n    }\n\n    speedX = prevSpeedX; // restore speedX\n    speedY = prevSpeedY; // restore speedY\n\n    ctxSave();\n    clearMovementUnit(unit);\n    ctxTransform(unit);\n    unit.x = unit.centerX - (unit.width / 2); // change x and y every time when centerX and centerY is changed\n    unit.y = unit.centerY - (unit.height / 2);\n    // console.log('MAKE MOVEMENT DRAW ANGLE', unit.destinationCanvasAngle);\n    // console.log('MAKE MOVEMENT: DRAW: unit x:',unit.x, 'unit y:', unit.y);\n    //console.log('unit destination x:', currentMoveToX, 'y:', currentMoveToY);\n    //console.log('unit center x:', unit.centerX, 'y:',unit.centerY);\n    ctxDrawImage(img, unit.x, unit.y, unit.width, unit.height);\n    ctxRestore();\n    i++;\n    //console.log('makeMovement');\n    if(unit.centerX === currentMoveToX && unit.centerY === currentMoveToY) { // unit is reached it's position\n      console.log('unit reached position');\n      return;\n    }\n    //else { // every movement speed repeat this function\n      timeout(movementSpeed)\n      .then(() => {\n        makeMovement(unit, img, currentMoveToX, currentMoveToY, speedX, speedY, i); // recursively call makeMovement\n      });\n    //}\n}\n\nexport const makeMovement2 = (unit, img, path, i) => {\n    if(path[i].x === unit.moveToX && path[i].y === unit.moveToY) return;\n    let x = path[i].x;\n    let y = path[i].y;\n    unit.centerX = x;\n    unit.centerY = y;\n    clearMovementUnit(unit);\n    ctxSave();\n    ctxTransform(unit);\n    unit.x = unit.centerX - (unit.width / 2); // change x and y every time when centerX and centerY is changed\n    unit.y = unit.centerY - (unit.height / 2);\n    ctxDrawImage(img, unit.x, unit.y, unit.width, unit.height);\n    ctxRestore();\n    i++;\n    console.log('i', i);\n    timeout(50)\n    .then(() => {\n      makeMovement2(unit, img, path, i); // recursively call makeMovement\n    });\n}\n\nexport const findTurnPoint = (unit) => {\n  let currentX = unit.centerX;\n  let currentY = unit.centerY;\n  let turnPoint;\n  let {speedX, speedY} = calcSpeed(unit);\n  console.log('speedX:', speedX, 'speedY:', speedY);\n  if(unit.centerY <= unit.moveToY) {\n    while(currentX !== unit.moveToX) {\n      currentX += speedX;\n      currentY += speedY;\n    }\n  }\n  else if(unit.centerY > unit.moveToY) {\n    while(currentY !== unit.moveToY) {\n      currentX += speedX;\n      currentY += speedY;\n    }\n  }\n  return {\n    turnPointX: currentX,\n    turnPointY: currentY\n  }\n}\n\nexport const clearMovementUnit = (unit) => {\n  //console.error('clearMovementUnit');\n  ctxSave();\n  ctxTranslate(unit.centerX, unit.centerY); // translate to rectangle center\n  let angle = (unit.destinationCanvasAngle) * (Math.PI / 180);\n  ctxRotate(angle); // rotate unit\n  ctxTranslate(-unit.centerX, -unit.centerY); // translate to rectangle center\n  // console.log('MOVEMENT: CLEAR RECT angle:', unit.destinationCanvasAngle);\n  // console.log('MOVEMENT: CLEAR RECT unit x:', unit.x, 'unit y:', unit.y);\n  ctxClearRect(unit.x, unit.y, unit.width, unit.height);\n  ctxRestore();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitMovement.ts","import {\n  units,\n  currentlyChosenUnit,\n  assignCurrentlyChosenUnit\n} from '../store/unitsStore';\n\nimport {getCanvasAngleQuater} from './unitMath';\n\nimport {WIDTH, HEIGHT} from '../config/map';\n\nimport {\n  ctxSave,\n  ctxRestore,\n  ctxTranslate,\n  ctxRotate,\n  ctxClearRect,\n  ctxDrawImage\n} from '../utils/ctx';\n\nimport Unit from './Unit';\n\n// check if units was clicked by left mouse button\n// x - mouse position X\n// y - mouse position Y\nexport let chooseUnit = (units, x, y) => {\n  //console.error('chooseUnit');\n  let foundedUnit = null;\n  for(let unit of units) {\n    let unitX0 = unit.x;\n    let unitY0 = unit.y;\n    let unitX1 = unitX0 + unit.width;\n    let unitY1 = unitY0 + unit.height;\n    // check if coordinates is equal to unit position\n    if(x >= unitX0 && x <= unitX1 && y >= unitY0 && y <= unitY1) {\n      foundedUnit = unit;\n      break;\n    }\n  }\n  // if unit was found in units array\n  // currentlyChosenUnit is equal to foundedUnit\n  // else is unit is not founded, then\n  // currentlyChosenUnit will be null\n  assignCurrentlyChosenUnit(foundedUnit);\n  console.log('currentlyChosenUnit', currentlyChosenUnit);\n}\n\n// change unit's moveToX, moveToY\nexport const assignMoveToPosition = (unit, x:number, y:number) => {\n  //console.error('assignMoveToPosition');\n  unit.moveToX = x;\n  unit.moveToY = y;\n  console.log(unit.name + ' is moving to : x:' + unit.moveToX + ' y:' + unit.moveToY);\n}\n\n// draw Units in the canvas\nexport let setUnit = (unit) => {\n    //console.error('setUnit');\n    ctxSave();\n    let img = new Image();\n    img.src = unit.imgPath;\n    img.onload = () => {\n      ctxDrawImage(img, unit.x, unit.y, unit.width, unit.height);\n    }\n    ctxRestore();\n}\n\n// create Unit and immediatly push it into units array\nexport let createUnit = (name:string, centerX:number, centerY:number, width:number, height:number, speed: number, imgPath: string='../../img/unit.svg', rotationSpeed) => {\n  //console.error('createUnit');\n  let unit = new Unit(name, centerX, centerY, width, height, speed, imgPath, rotationSpeed);\n  units.push(unit);\n  setUnit(unit);\n  return unit;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/unitActions.ts","import {\n  calcDestinationAngleInDegrees,\n  calcDestinationAngle,\n  getQuater,\n  calcCanvasAngle\n} from './unitMath';\n\n\nclass Unit {\n  name: string;\n  centerX: number; // center of the unit\n  centerY: number;\n  x: number; // initial X position\n  y: number; // initial Y position\n  width: number; // width of the unit\n  height: number; // height of the unit\n  speed: number; // speed of the unit\n  moveToX: number; // next X postion\n  moveToY: number; // next Y position\n  destinationCanvasAngle: number = 0;\n  previousCanvasAngle: number;\n  angleToRemove: number;\n  imgPath: string;\n  rotationSpeed: number;\n  isRotating: boolean = false;\n\n  constructor(name: string, centerX: number, centerY:number, width: number, height:number, speed:number, imgPath:string, rotationSpeed: number) {\n    this.name = name;\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.width = width;\n    this.height = height;\n    this.x = this.centerX - (this.width / 2);\n    this.y = this.centerY - (this.height / 2);\n    this.speed = speed;\n    this.moveToX = centerX;\n    this.moveToY = centerY;\n    this.imgPath = imgPath;\n    this.rotationSpeed = rotationSpeed;\n  }\n\n  assignAngle() {\n    this.previousCanvasAngle = this.destinationCanvasAngle;\n    this.destinationCanvasAngle = calcCanvasAngle(this.centerX, this.centerY, this.moveToX, this.moveToY);\n    console.log('CLASS UNIT: new desctination has been assign, angle =', this.destinationCanvasAngle);\n  }\n\n  setAngleToRemove(newAngle:number) {\n    let angleToRemove = this.makeAnglePositive(newAngle);\n    this.angleToRemove = angleToRemove;\n  }\n\n  setDestinationCanvasAngle(newAngle) {\n    let updatedAngle = this.makeAnglePositive(newAngle);\n    this.destinationCanvasAngle = updatedAngle;\n  }\n\n  setPreviousCanvasAngle(newAngle: number) {\n    let updatedAngle = this.makeAnglePositive(newAngle);\n    this.previousCanvasAngle = updatedAngle;\n  }\n\n  setIsRotatingToTrue() {\n    this.isRotating = true;\n  }\n\n  setIsRotatingToFalse() {\n    this.isRotating = false;\n  }\n\n  setCurrentRotation(startAngle: number, finishAngle: number) {\n    let updatedStartAngle = this.makeAnglePositive(startAngle);\n    let updatedFinishAngle = this.makeAnglePositive(finishAngle);\n  }\n\n  makeAnglePositive(angle: number):number {\n    if(angle < 0) {\n      return angle + 360;\n    }\n    else if(angle >= 0) {\n        return angle;\n    }\n  }\n}\n\nexport default Unit;\n\n\n\n// WEBPACK FOOTER //\n// ./src/units/Unit.ts"],"sourceRoot":""}